name: Spring_test
on: push
  
jobs:
  Spring_job:
    runs-on: ubuntu-latest       
  
    steps:      
      - name: Copy repo
        uses: actions/checkout@v2
        
      - name: Create docker network
        run: docker network create --driver bridge internal_net
              
      - name: set image for build 
        run: |          
          docker build -t spring_boot .
          docker run --name Try -dp 8080:8080 spring_boot --network internal_net
          
      - name: second check
        run: |
          docker ps
          docker network ls
          
      - name: send requests
        run: |
          curl -X POST -v -F 'id=4' -F 'name=Aleks' http://localhost:8080
          echo "start new"
          curl http://localhost:8080?id=4
